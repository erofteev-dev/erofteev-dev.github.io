(()=>{var I=(r,n,t)=>new Promise((e,i)=>{var s=o=>{try{u(t.next(o))}catch(h){i(h)}},a=o=>{try{u(t.throw(o))}catch(h){i(h)}},u=o=>o.done?e(o.value):Promise.resolve(o.value).then(s,a);u((t=t.apply(r,n)).next())});function A(){let r=document.querySelector(".cookie-notification"),n=r==null?void 0:r.querySelector("button");if(!r&&!n)return;let t="cookie-notification";try{if(JSON.parse(localStorage.getItem(t)))return}catch(e){console.error(e)}r.hidden=!1,n.addEventListener("click",()=>{r.hidden=!0,localStorage.setItem(t,!0)},{once:!0})}A();var W=function(){function r(){}var n=r.prototype;return n.expandToken=function(e){for(var i=[],s="",a=0,u=e.length;a<u;++a)s+=e.charAt(a),i.push(s);return i},r}();var U=function(){function r(){}var n=r.prototype;return n.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},r}();function S(r,n){n=n||[],r=r||{};for(var t=r,e=0;e<n.length;e++)if(t=t[n[e]],t==null)return null;return t}var H=function(){function r(t){this._uidFieldName=t,this._tokenToIdfCache={},this._tokenMap={}}var n=r.prototype;return n.indexDocument=function(e,i,s){this._tokenToIdfCache={};var a=this._tokenMap,u;typeof a[e]!="object"?a[e]=u={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(u=a[e],u.$totalNumOccurrences++);var o=u.$uidMap;typeof o[i]!="object"?(u.$numDocumentOccurrences++,o[i]={$document:s,$numTokenOccurrences:1}):o[i].$numTokenOccurrences++},n.search=function(e,i){for(var s={},a=0,u=e.length;a<u;a++){var o=e[a],h=this._tokenMap[o];if(!h)return[];if(a===0)for(var d=Object.keys(h.$uidMap),f=0,v=d.length;f<v;f++){var c=d[f];s[c]=h.$uidMap[c].$document}else for(var d=Object.keys(s),f=0,v=d.length;f<v;f++){var c=d[f];typeof h.$uidMap[c]!="object"&&delete s[c]}}var p=[];for(var c in s)p.push(s[c]);var g=this._createCalculateTfIdf();return p.sort(function(l,_){return g(e,_,i)-g(e,l,i)})},n._createCalculateIdf=function(){var e=this._tokenMap,i=this._tokenToIdfCache;return function(a,u){if(!i[a]){var o=typeof e[a]!="undefined"?e[a].$numDocumentOccurrences:0;i[a]=1+Math.log(u.length/(1+o))}return i[a]}},n._createCalculateTfIdf=function(){var e=this._tokenMap,i=this._uidFieldName,s=this._createCalculateIdf();return function(u,o,h){for(var d=0,f=0,v=u.length;f<v;++f){var c=u[f],p=s(c,h);p===1/0&&(p=0);var g;i instanceof Array?g=o&&S(o,i):g=o&&o[i];var l=typeof e[c]!="undefined"&&typeof e[c].$uidMap[g]!="undefined"?e[c].$uidMap[g].$numTokenOccurrences:0;d+=l*p}return d}},r}();var R=/[^a-zа-яё0-9\-']+/i,F=function(){function r(){}var n=r.prototype;return n.tokenize=function(e){return e.split(R).filter(function(i){return i})},r}();var m={a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0};m.constructor=!1;m.hasOwnProperty=!1;m.isPrototypeOf=!1;m.propertyIsEnumerable=!1;m.toLocaleString=!1;m.toString=!1;m.valueOf=!1;function b(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function K(r,n,t){return n&&b(r.prototype,n),t&&b(r,t),r}var D=function(){function r(t){if(!t)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=t,this._indexStrategy=new W,this._searchIndex=new H(t),this._sanitizer=new U,this._tokenizer=new F,this._documents=[],this._searchableFields=[]}var n=r.prototype;return n.addDocument=function(e){this.addDocuments([e])},n.addDocuments=function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)},n.addIndex=function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])},n.search=function(e){var i=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(i,this._documents)},n.indexDocuments_=function(e,i){this._initialized=!0;for(var s=this._indexStrategy,a=this._sanitizer,u=this._searchIndex,o=this._tokenizer,h=this._uidFieldName,d=0,f=e.length;d<f;d++){var v=e[d],c;h instanceof Array?c=S(v,h):c=v[h];for(var p=0,g=i.length;p<g;p++){var l,_=i[p];if(_ instanceof Array?l=S(v,_):l=v[_],l!=null&&typeof l!="string"&&l.toString&&(l=l.toString()),typeof l=="string")for(var x=o.tokenize(a.sanitize(l)),z=0,E=x.length;z<E;z++)for(var L=x[z],T=s.expandToken(L),k=0,N=T.length;k<N;k++){var j=T[k];u.indexDocument(j,c,v)}}}},K(r,[{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}]),r}();var M=[],y;function C(){return I(this,null,function*(){M=yield(yield fetch("/search.json")).json(),y=new D("id"),y.addIndex("title"),y.addIndex("content"),y.addDocuments(M)})}function O(r){let n=y.search(r);P(n,r)}function P(r,n){let t=document.querySelector(".search__results");if(t.innerHTML="",r.length===0&&n){t.innerHTML="<p>\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E</p>";return}if(r.length>0){let e=r.map(i=>{let s=$(i.title,n),a=$(i.content,n);return`
                    <li>
                        <a href="${i.url}">
                            <strong>${s}</strong><br>
                            <small>${a.substring(0,150)}...</small>
                        </a>
                    </li>
                `}).join("");t.innerHTML=`<ul class="dropdown">${e}</ul>`}}function $(r,n){let t=new RegExp(`(${n})`,"gi");return r.replace(t,"<mark>$1</mark>")}function w(){let r=document.querySelector(".search__results");r.innerHTML=""}document.addEventListener("DOMContentLoaded",()=>{C();let r=document.querySelector(".search__input");r.addEventListener("input",n=>{let t=n.target.value;t===""?w():O(t)}),r.addEventListener("keydown",n=>{if(n.key==="Enter"){n.preventDefault();let t=document.querySelector(".search__results ul.dropdown li a");t&&(window.location.href=t.href)}}),r.addEventListener("blur",()=>{r.value===""&&w()})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});})();
